<div id="tree-nodes-component">

  <div *ngIf="!isLoading">
    <gb-tree-search
      [tree]="treeNodeService.treeNodes"
    ></gb-tree-search>


    <!-- the tree itself -->
    <p-tree [value]="treeNodeService.treeNodes"
            draggableNodes="true"
            styleClass="gb-tree-container"></p-tree>

    <!-- the metadata popup -->
    <p-overlayPanel #treeNodeMetadataPanel
                    [dismissable]="true"
                    [showCloseIcon]="false">
      <!--{{metadataContent}}-->
      <div *ngFor="let item of metadataContent">
        <div class="ui-grid-row metadata-row">
          {{item.key}}: {{item.val}}
        </div>
      </div>
    </p-overlayPanel>
  </div>


  <div *ngIf="isLoading">
    <gb-loading></gb-loading>
  </div>
</div>
